Today, almost every company runs systems that have been implemented a long time ago. These systems usually are still under adaptation and maintenance to address current needs. Very often, adapting legacy software systems to new requirements needs to make use of new technological advances. Furthermore, legacy software systems mainly consist of two kinds of artifacts: source code and databases. Usually, the maintenance of those artifacts is carried out through restructuring processes in isolated manners. Nevertheless, for a more effective maintenance of the whole system both should be analyzed and evolved jointly. Therefore, the lifespan of the legacy software systems are expected to improve. This paper proposes an approach to assist the modernization of both source code and database legacy systems. For this purpose, our technique analyses SQL queries embedded in the legacy source code in order to restructure and re-organize the legacy system by using design patterns. In  order to validate our approach we have carried out an experiment throughout a real-life case study. The results were promising regarding the effort employed to modernize a legacy software system.